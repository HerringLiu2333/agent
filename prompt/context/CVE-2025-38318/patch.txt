    @@ -660,6 +660,7 @@ static int arm_ni_probe(struct platform_device *pdev)
     	ni->num_cds = num_cds;
     	ni->part = part;
     	ni->id = atomic_fetch_inc(&id);
    +	platform_set_drvdata(pdev, ni);
     
     	for (int v = 0; v < cfg.num_components; v++) {
     		reg = readl_relaxed(cfg.base + NI_CHILD_PTR(v));