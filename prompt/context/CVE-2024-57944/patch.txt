 diff --git a/drivers/iio/adc/ti-ads1298.c b/drivers/iio/adc/ti-ads1298.c
 index 36d43495f603a7â€¦03f762415fa5c3 100644
 --- a/drivers/iio/adc/ti-ads1298.c
 +++ b/drivers/iio/adc/ti-ads1298.c
 @@ -613,6 +613,8 @@ static int ads1298_init(struct iio_dev indio_dev)
 }
   indio_dev->name = devm_kasprintf(dev, GFP_KERNEL, "ads129%u%s",
   indio_dev->num_channels, suffix);
 + if (!indio_dev->name)
 +   return -ENOMEM;
 
   /* Enable internal test signal, double amplitude, double frequency /
   ret = regmap_write(priv->regmap, ADS1298_REG_CONFIG2,