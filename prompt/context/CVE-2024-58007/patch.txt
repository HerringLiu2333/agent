 diff --git a/drivers/soc/qcom/socinfo.c b/drivers/soc/qcom/socinfo.c
 index 5401b075840b8eâ€¦e5f14202618829 100644
 --- a/drivers/soc/qcom/socinfo.c
 +++ b/drivers/soc/qcom/socinfo.c
 @@ -652,7 +652,7 @@ static int qcom_socinfo_probe(struct platform_device *pdev)
   if (!qs->attr.soc_id || !qs->attr.revision)
   return -ENOMEM;

 - if (offsetof(struct socinfo, serial_num) <= item_size) {
 + if (offsetofend(struct socinfo, serial_num) <= item_size) {
   qs->attr.serial_number = devm_kasprintf(&pdev->dev, GFP_KERNEL,
   "%u",
   le32_to_cpu(info->serial_num));