    diff --git a/drivers/usb/gadget/function/f_tcm.c b/drivers/usb/gadget/function/f_tcm.c
    index 81b6d0d18a8cd6..948888316fbd54 100644
    --- a/drivers/usb/gadget/function/f_tcm.c
    +++ b/drivers/usb/gadget/function/f_tcm.c
    @@ -1066,7 +1066,6 @@ static void usbg_cmd_work(struct work_struct *work)
     out:
     	transport_send_check_condition_and_sense(se_cmd,
     			TCM_UNSUPPORTED_SCSI_OPCODE, 1);
    -	transport_generic_free_cmd(&cmd->se_cmd, 0);
     }
     
     static struct usbg_cmd *usbg_get_cmd(struct f_uas *fu,
    @@ -1195,7 +1194,6 @@ static void bot_cmd_work(struct work_struct *work)
     out:
     	transport_send_check_condition_and_sense(se_cmd,
     				TCM_UNSUPPORTED_SCSI_OPCODE, 1);
    -	transport_generic_free_cmd(&cmd->se_cmd, 0);
     }
     
     static int bot_submit_command(struct f_uas *fu,