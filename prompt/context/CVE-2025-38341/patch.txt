    @@ -127,11 +127,8 @@ static int fbnic_mbx_map_msg(struct fbnic_dev *fbd, int mbx_idx,
     		return -EBUSY;
     
     	addr = dma_map_single(fbd->dev, msg, PAGE_SIZE, direction);
    -	if (dma_mapping_error(fbd->dev, addr)) {
    -		free_page((unsigned long)msg);
    -
    +	if (dma_mapping_error(fbd->dev, addr))
     		return -ENOSPC;
    -	}
     
     	mbx->buf_info[tail].msg = msg;
     	mbx->buf_info[tail].addr = addr;