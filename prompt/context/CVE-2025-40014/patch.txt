    @@ -302,7 +302,7 @@ static void amd_set_spi_freq(struct amd_spi *amd_spi, u32 speed_hz)
     {
     	unsigned int i, spd7_val, alt_spd;
     
    -	for (i = 0; i < ARRAY_SIZE(amd_spi_freq); i++)
    +	for (i = 0; i < ARRAY_SIZE(amd_spi_freq)-1; i++)
     		if (speed_hz >= amd_spi_freq[i].speed_hz)
     			break;