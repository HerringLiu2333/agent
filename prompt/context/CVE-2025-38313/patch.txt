    @@ -906,8 +906,10 @@ int fsl_mc_device_add(struct fsl_mc_obj_desc *obj_desc,
     
     error_cleanup_dev:
     	kfree(mc_dev->regions);
    -	kfree(mc_bus);
    -	kfree(mc_dev);
    +	if (mc_bus)
    +		kfree(mc_bus);
    +	else
    +		kfree(mc_dev);
     
     	return error;
     }